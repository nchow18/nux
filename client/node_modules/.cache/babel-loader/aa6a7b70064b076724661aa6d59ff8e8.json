{"ast":null,"code":"import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfileType() {\n    if (this.loggedIn()) {\n      const {\n        data\n      } = decode(this.getToken());\n      return data.admin === true ? 'admin' : 'user';\n    }\n  }\n\n  getAdmin() {\n    if (this.loggedIn()) {\n      const {\n        data\n      } = decode(this.getToken());\n      return data.admin ? true : false;\n    }\n  }\n\n  adminSetCategory(item) {\n    return localStorage.setItem('adminCategory', item);\n  }\n\n  adminGetCategory() {\n    return localStorage.getItem('adminCategory');\n  }\n\n  getPromotions() {}\n\n  setCategory(category) {\n    localStorage.setItem('current_category', JSON.stringify(category));\n    return window.location.href = \"/products\";\n  }\n\n  getCategory() {\n    const category = localStorage.getItem('current_category');\n    return JSON.parse(category);\n  }\n\n  getCategories() {\n    const categories = [{\n      name: 'All'\n    }, {\n      name: 'Fish'\n    }, {\n      name: 'Scallops'\n    }, {\n      name: 'Shellfish'\n    }, {\n      name: 'Squid'\n    }, {\n      name: 'Meat'\n    }, {\n      name: 'Special'\n    }, {\n      name: 'Vegetables'\n    }, {\n      name: 'Fruits'\n    }, {\n      name: 'Hotpot'\n    }, {\n      name: 'Snacks'\n    }, {\n      name: 'Sauces'\n    }, {\n      name: 'Beverages'\n    }, {\n      name: 'Noodles/Soup'\n    }, {\n      name: 'Sale'\n    }, {\n      name: 'Newest Products'\n    }];\n    return categories;\n  }\n\n  saveCart(data) {\n    localStorage.removeItem('user_cart');\n    return localStorage.setItem('user_cart', JSON.stringify(data));\n  }\n\n  saveGuestCart(data) {\n    localStorage.removeItem('guest_cart');\n    return localStorage.setItem('guest_cart', JSON.stringify(data));\n  }\n\n  setCartQuantity(quantity) {\n    return localStorage.setItem('user_cart_quantity', quantity);\n  }\n\n  getGuestCartQuantity() {\n    const length = localStorage.getItem('guest_cart_quantity');\n    const total = length;\n    return total;\n  }\n\n  getUserCartQuantity() {\n    const length = localStorage.getItem('user_cart_quantity');\n    const total = length;\n    return total;\n  }\n\n  getOrders() {}\n\n  getUser() {}\n\n  getCartTotal(data) {\n    const total = data;\n    return total;\n  }\n\n  setProductArr() {}\n\n  getProductArr() {}\n\n  setSearchProduct(product) {\n    return localStorage.setItem('product_search', product);\n  }\n\n  getSearchProduct() {\n    return localStorage.getItem('product_search');\n  }\n\n  setSingleProduct(product_id) {\n    return localStorage.setItem('id_product', product_id);\n  }\n\n  getSingleProduct() {\n    return localStorage.getItem('id_product');\n  }\n\n  viewSingleProduct() {\n    const productId = localStorage.getItem('id_product');\n    window.location.href = `/product/${productId}`;\n  }\n\n  updateSingleProduct() {\n    const product_id = this.getSingleProductId();\n    window.location.href = `/productupdate/${product_id}`;\n  }\n\n  setAdminSingleProductId(id) {\n    return localStorage.setItem('id_admin_product', id);\n  }\n\n  getSingleProductId() {\n    return localStorage.getItem('id_admin_product');\n  }\n\n  setSingleOrder(order_id) {\n    return localStorage.setItem('id_order', order_id);\n  }\n\n  getSingleOrder() {\n    return localStorage.getItem('id_order');\n  }\n\n  viewSingleOrder() {\n    const orderId = this.getSingleOrder();\n    window.location.href = `/order/${orderId}`;\n  }\n\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  getProduct() {\n    return localStorage.getItem('product');\n  }\n\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token);\n  }\n\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  setProduct(productType) {\n    localStorage.setItem('product', productType);\n  }\n\n  lightMode(mode) {\n    localStorage.setItem('mode', mode);\n  }\n\n  getMode(mode) {\n    var body = document.querySelectorAll('body, .page');\n    var bgWhite = document.querySelectorAll('.night-bg');\n    const currentMode = localStorage.getItem('mode', mode);\n    body[0].style.backgroundColor = 'var(--tertiary)';\n    body[0].style.color = 'white';\n\n    for (var i = 0; i < bgWhite.length; i++) {\n      bgWhite[i].style.backgroundColor = 'rgb(74,74,74)';\n    }\n\n    if (currentMode === 'night') {\n      body[0].style.backgroundColor = 'var(--tertiary)';\n      body[0].style.color = 'white';\n\n      for (var q = 0; q < bgWhite.length; q++) {\n        bgWhite[q].style.backgroundColor = 'rgb(74,74,74)';\n      }\n    } else {\n      body[0].style.backgroundColor = 'white';\n      body[0].style.color = 'black';\n\n      for (var u = 0; u < bgWhite.length; u++) {\n        bgWhite[u].style.backgroundColor = 'white';\n      }\n    }\n\n    return currentMode;\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  setGlobalDiscount(sale) {\n    return localStorage.setItem('global_sale', sale);\n  }\n\n  getGlobalDiscount() {\n    const sale = localStorage.getItem('global_sale');\n    return sale;\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n\n    if (this.loggedIn() === false) {\n      window.location.assign('/');\n    } else if (this.getProfileType() === 'user') {\n      window.location.assign('/');\n    } else if (this.getProfileType() === 'admin') {\n      window.location.assign('/');\n    }\n  }\n\n  checkToken() {\n    const token = this.getToken();\n\n    if (localStorage.getItem('id_token')) {\n      if (this.isTokenExpired(token)) {\n        localStorage.removeItem('id_token');\n      } else {\n        return;\n      }\n    }\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token'); // this will reload the page and reset the state of the application\n\n    window.location.assign('/');\n    window.alert('Logged Out');\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"sources":["/Users/nc/Desktop/projects/nuxe/client/src/utils/auth.js"],"names":["decode","AuthService","getProfileType","loggedIn","data","getToken","admin","getAdmin","adminSetCategory","item","localStorage","setItem","adminGetCategory","getItem","getPromotions","setCategory","category","JSON","stringify","window","location","href","getCategory","parse","getCategories","categories","name","saveCart","removeItem","saveGuestCart","setCartQuantity","quantity","getGuestCartQuantity","length","total","getUserCartQuantity","getOrders","getUser","getCartTotal","setProductArr","getProductArr","setSearchProduct","product","getSearchProduct","setSingleProduct","product_id","getSingleProduct","viewSingleProduct","productId","updateSingleProduct","getSingleProductId","setAdminSingleProductId","id","setSingleOrder","order_id","getSingleOrder","viewSingleOrder","orderId","getProfile","getProduct","token","isTokenExpired","decoded","exp","Date","now","err","setProduct","productType","lightMode","mode","getMode","body","document","querySelectorAll","bgWhite","currentMode","style","backgroundColor","color","i","q","u","setGlobalDiscount","sale","getGlobalDiscount","login","idToken","assign","checkToken","logout","alert"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,YAAnB;;AAEA,MAAMC,WAAN,CAAkB;AAChBC,EAAAA,cAAc,GAAG;AACf,QAAI,KAAKC,QAAL,EAAJ,EAAqB;AACjB,YAAM;AAAEC,QAAAA;AAAF,UAAWJ,MAAM,CAAC,KAAKK,QAAL,EAAD,CAAvB;AACA,aAAOD,IAAI,CAACE,KAAL,KAAe,IAAf,GAAsB,OAAtB,GAAgC,MAAvC;AACH;AACF;;AAEDC,EAAAA,QAAQ,GAAG;AACT,QAAI,KAAKJ,QAAL,EAAJ,EAAqB;AACnB,YAAM;AAAEC,QAAAA;AAAF,UAAWJ,MAAM,CAAC,KAAKK,QAAL,EAAD,CAAvB;AACA,aAAOD,IAAI,CAACE,KAAL,GAAa,IAAb,GAAoB,KAA3B;AACD;AACF;;AAEDE,EAAAA,gBAAgB,CAACC,IAAD,EAAO;AACrB,WAAOC,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCF,IAAtC,CAAP;AACD;;AAEDG,EAAAA,gBAAgB,GAAG;AACjB,WAAOF,YAAY,CAACG,OAAb,CAAqB,eAArB,CAAP;AACD;;AAEDC,EAAAA,aAAa,GAAG,CAEf;;AAEDC,EAAAA,WAAW,CAACC,QAAD,EAAW;AACpBN,IAAAA,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCM,IAAI,CAACC,SAAL,CAAeF,QAAf,CAAzC;AACA,WAAOG,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,WAA9B;AACD;;AAEDC,EAAAA,WAAW,GAAG;AACZ,UAAMN,QAAQ,GAAGN,YAAY,CAACG,OAAb,CAAqB,kBAArB,CAAjB;AACA,WAAOI,IAAI,CAACM,KAAL,CAAWP,QAAX,CAAP;AACD;;AAEDQ,EAAAA,aAAa,GAAG;AACd,UAAMC,UAAU,GAAG,CACrB;AACCC,MAAAA,IAAI,EAAE;AADP,KADqB,EAIrB;AACCA,MAAAA,IAAI,EAAE;AADP,KAJqB,EAOnB;AACEA,MAAAA,IAAI,EAAE;AADR,KAPmB,EAUrB;AACCA,MAAAA,IAAI,EAAE;AADP,KAVqB,EAarB;AACCA,MAAAA,IAAI,EAAE;AADP,KAbqB,EAgBnB;AACEA,MAAAA,IAAI,EAAE;AADR,KAhBmB,EAmBnB;AACEA,MAAAA,IAAI,EAAE;AADR,KAnBmB,EAsBnB;AACEA,MAAAA,IAAI,EAAE;AADR,KAtBmB,EAyBnB;AACEA,MAAAA,IAAI,EAAE;AADR,KAzBmB,EA4BnB;AACEA,MAAAA,IAAI,EAAE;AADR,KA5BmB,EA+BnB;AACEA,MAAAA,IAAI,EAAE;AADR,KA/BmB,EAkCnB;AACEA,MAAAA,IAAI,EAAE;AADR,KAlCmB,EAqCnB;AACEA,MAAAA,IAAI,EAAE;AADR,KArCmB,EAwCnB;AACEA,MAAAA,IAAI,EAAE;AADR,KAxCmB,EA2CnB;AACEA,MAAAA,IAAI,EAAE;AADR,KA3CmB,EA8CnB;AACEA,MAAAA,IAAI,EAAE;AADR,KA9CmB,CAAnB;AAmDA,WAAOD,UAAP;AACD;;AAEDE,EAAAA,QAAQ,CAACvB,IAAD,EAAO;AACbM,IAAAA,YAAY,CAACkB,UAAb,CAAwB,WAAxB;AACA,WAAOlB,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCM,IAAI,CAACC,SAAL,CAAed,IAAf,CAAlC,CAAP;AACD;;AAEDyB,EAAAA,aAAa,CAACzB,IAAD,EAAO;AAClBM,IAAAA,YAAY,CAACkB,UAAb,CAAwB,YAAxB;AACA,WAAOlB,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCM,IAAI,CAACC,SAAL,CAAed,IAAf,CAAnC,CAAP;AACD;;AAED0B,EAAAA,eAAe,CAACC,QAAD,EAAW;AACxB,WAAOrB,YAAY,CAACC,OAAb,CAAqB,oBAArB,EAA2CoB,QAA3C,CAAP;AACD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrB,UAAMC,MAAM,GAAGvB,YAAY,CAACG,OAAb,CAAqB,qBAArB,CAAf;AACA,UAAMqB,KAAK,GAAGD,MAAd;AACA,WAAOC,KAAP;AACD;;AAEDC,EAAAA,mBAAmB,GAAG;AACpB,UAAMF,MAAM,GAAGvB,YAAY,CAACG,OAAb,CAAqB,oBAArB,CAAf;AACA,UAAMqB,KAAK,GAAGD,MAAd;AACA,WAAOC,KAAP;AACD;;AAEDE,EAAAA,SAAS,GAAG,CAEX;;AAEDC,EAAAA,OAAO,GAAG,CAET;;AAEDC,EAAAA,YAAY,CAAClC,IAAD,EAAO;AACjB,UAAM8B,KAAK,GAAG9B,IAAd;AACA,WAAO8B,KAAP;AACD;;AAEDK,EAAAA,aAAa,GAAG,CAEf;;AAEDC,EAAAA,aAAa,GAAG,CAEf;;AAEDC,EAAAA,gBAAgB,CAACC,OAAD,EAAU;AACxB,WAAOhC,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuC+B,OAAvC,CAAP;AACD;;AAEDC,EAAAA,gBAAgB,GAAG;AACjB,WAAOjC,YAAY,CAACG,OAAb,CAAqB,gBAArB,CAAP;AACD;;AAED+B,EAAAA,gBAAgB,CAACC,UAAD,EAAa;AAC3B,WAAOnC,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCkC,UAAnC,CAAP;AACD;;AAEDC,EAAAA,gBAAgB,GAAG;AACjB,WAAOpC,YAAY,CAACG,OAAb,CAAqB,YAArB,CAAP;AACD;;AAEDkC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,SAAS,GAAGtC,YAAY,CAACG,OAAb,CAAqB,YAArB,CAAlB;AAEAM,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,YAAW2B,SAAU,EAA7C;AACD;;AAEDC,EAAAA,mBAAmB,GAAG;AACpB,UAAMJ,UAAU,GAAG,KAAKK,kBAAL,EAAnB;AACA/B,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,kBAAiBwB,UAAW,EAApD;AACD;;AAEDM,EAAAA,uBAAuB,CAACC,EAAD,EAAK;AAC1B,WAAO1C,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyCyC,EAAzC,CAAP;AACD;;AAEDF,EAAAA,kBAAkB,GAAG;AACnB,WAAOxC,YAAY,CAACG,OAAb,CAAqB,kBAArB,CAAP;AACD;;AAEDwC,EAAAA,cAAc,CAACC,QAAD,EAAW;AACvB,WAAO5C,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC2C,QAAjC,CAAP;AACD;;AAEDC,EAAAA,cAAc,GAAG;AACf,WAAO7C,YAAY,CAACG,OAAb,CAAqB,UAArB,CAAP;AACD;;AAED2C,EAAAA,eAAe,GAAG;AAChB,UAAMC,OAAO,GAAG,KAAKF,cAAL,EAAhB;AAEApC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,UAASoC,OAAQ,EAAzC;AACD;;AAEDC,EAAAA,UAAU,GAAG;AACX,WAAO1D,MAAM,CAAC,KAAKK,QAAL,EAAD,CAAb;AACD;;AAEDsD,EAAAA,UAAU,GAAG;AACX,WAAOjD,YAAY,CAACG,OAAb,CAAqB,SAArB,CAAP;AACD;;AAEDV,EAAAA,QAAQ,GAAG;AACT;AACA,UAAMyD,KAAK,GAAG,KAAKvD,QAAL,EAAd;AACA,WAAO,CAAC,CAACuD,KAAF,IAAW,CAAC,KAAKC,cAAL,CAAoBD,KAApB,CAAnB;AACD;;AAEDC,EAAAA,cAAc,CAACD,KAAD,EAAQ;AACpB,QAAI;AACF,YAAME,OAAO,GAAG9D,MAAM,CAAC4D,KAAD,CAAtB;;AACA,UAAIE,OAAO,CAACC,GAAR,GAAcC,IAAI,CAACC,GAAL,KAAa,IAA/B,EAAqC;AACnC,eAAO,IAAP;AACD,OAFD,MAGA,OAAO,KAAP;AACD,KAND,CAME,OAAOC,GAAP,EAAY;AACZ,aAAO,KAAP;AACD;AACF;;AAEDC,EAAAA,UAAU,CAACC,WAAD,EAAc;AACtB1D,IAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCyD,WAAhC;AACD;;AAEDC,EAAAA,SAAS,CAACC,IAAD,EAAO;AACd5D,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B2D,IAA7B;AACD;;AAEDC,EAAAA,OAAO,CAACD,IAAD,EAAO;AACZ,QAAIE,IAAI,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,aAA1B,CAAX;AACA,QAAIC,OAAO,GAAGF,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAd;AACA,UAAME,WAAW,GAAGlE,YAAY,CAACG,OAAb,CAAqB,MAArB,EAA6ByD,IAA7B,CAApB;AAEAE,IAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQK,KAAR,CAAcC,eAAd,GAAgC,iBAAhC;AACAN,IAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQK,KAAR,CAAcE,KAAd,GAAsB,OAAtB;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,OAAO,CAAC1C,MAA5B,EAAoC+C,CAAC,EAArC,EAAyC;AACrCL,MAAAA,OAAO,CAACK,CAAD,CAAP,CAAWH,KAAX,CAAiBC,eAAjB,GAAmC,eAAnC;AACH;;AAED,QAAIF,WAAW,KAAK,OAApB,EAA6B;AAEzBJ,MAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQK,KAAR,CAAcC,eAAd,GAAgC,iBAAhC;AACAN,MAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQK,KAAR,CAAcE,KAAd,GAAsB,OAAtB;;AAEA,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,OAAO,CAAC1C,MAA5B,EAAoCgD,CAAC,EAArC,EAAyC;AACrCN,QAAAA,OAAO,CAACM,CAAD,CAAP,CAAWJ,KAAX,CAAiBC,eAAjB,GAAmC,eAAnC;AACH;AACJ,KARD,MAQO;AAEHN,MAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQK,KAAR,CAAcC,eAAd,GAAgC,OAAhC;AACAN,MAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQK,KAAR,CAAcE,KAAd,GAAsB,OAAtB;;AAEA,WAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,OAAO,CAAC1C,MAA5B,EAAoCiD,CAAC,EAArC,EAAyC;AACrCP,QAAAA,OAAO,CAACO,CAAD,CAAP,CAAWL,KAAX,CAAiBC,eAAjB,GAAmC,OAAnC;AACH;AACJ;;AACD,WAAOF,WAAP;AACD;;AAEDvE,EAAAA,QAAQ,GAAG;AACT;AACA,WAAOK,YAAY,CAACG,OAAb,CAAqB,UAArB,CAAP;AACD;;AAEDsE,EAAAA,iBAAiB,CAACC,IAAD,EAAO;AACtB,WAAO1E,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCyE,IAApC,CAAP;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMD,IAAI,GAAG1E,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAb;AACA,WAAOuE,IAAP;AACD;;AAEDE,EAAAA,KAAK,CAACC,OAAD,EAAU;AACb;AACA7E,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC4E,OAAjC;;AAEA,QAAI,KAAKpF,QAAL,OAAoB,KAAxB,EAA+B;AAC7BgB,MAAAA,MAAM,CAACC,QAAP,CAAgBoE,MAAhB,CAAuB,GAAvB;AACD,KAFD,MAEO,IAAI,KAAKtF,cAAL,OAA0B,MAA9B,EAAsC;AAC3CiB,MAAAA,MAAM,CAACC,QAAP,CAAgBoE,MAAhB,CAAuB,GAAvB;AACD,KAFM,MAEA,IAAI,KAAKtF,cAAL,OAA0B,OAA9B,EAAuC;AAC1CiB,MAAAA,MAAM,CAACC,QAAP,CAAgBoE,MAAhB,CAAuB,GAAvB;AACH;AACF;;AAEDC,EAAAA,UAAU,GAAG;AACX,UAAM7B,KAAK,GAAG,KAAKvD,QAAL,EAAd;;AACA,QAAIK,YAAY,CAACG,OAAb,CAAqB,UAArB,CAAJ,EAAsC;AACpC,UAAI,KAAKgD,cAAL,CAAoBD,KAApB,CAAJ,EAAgC;AAC9BlD,QAAAA,YAAY,CAACkB,UAAb,CAAwB,UAAxB;AACD,OAFD,MAEO;AACL;AACD;AAEF;AACF;;AAED8D,EAAAA,MAAM,GAAG;AACP;AACAhF,IAAAA,YAAY,CAACkB,UAAb,CAAwB,UAAxB,EAFO,CAGP;;AACAT,IAAAA,MAAM,CAACC,QAAP,CAAgBoE,MAAhB,CAAuB,GAAvB;AAEArE,IAAAA,MAAM,CAACwE,KAAP,CAAa,YAAb;AACD;;AA5Se;;AA+SlB,eAAe,IAAI1F,WAAJ,EAAf","sourcesContent":["import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfileType() {\n    if (this.loggedIn()) {\n        const { data } = decode(this.getToken());\n        return data.admin === true ? 'admin' : 'user'\n    } \n  }\n\n  getAdmin() {\n    if (this.loggedIn()) {\n      const { data } = decode(this.getToken());\n      return data.admin ? true : false\n    }\n  }\n\n  adminSetCategory(item) {\n    return localStorage.setItem('adminCategory', item);\n  }\n\n  adminGetCategory() {\n    return localStorage.getItem('adminCategory');\n  }\n\n  getPromotions() {\n\n  }\n\n  setCategory(category) {\n    localStorage.setItem('current_category', JSON.stringify(category))\n    return window.location.href = \"/products\";\n  }\n\n  getCategory() {\n    const category = localStorage.getItem('current_category');\n    return JSON.parse(category);\n  }\n\n  getCategories() {\n    const categories = [\n\t\t{\n\t\t\tname: 'All',\n\t\t},\n\t\t{\n\t\t\tname: 'Fish',\n\t\t},\n    {\n      name: 'Scallops',\n    },\n\t\t{\n\t\t\tname: 'Shellfish',\n\t\t},\n\t\t{\n\t\t\tname: 'Squid',\n\t\t},\n    {\n      name: 'Meat'\n    },\n    {\n      name: 'Special'\n    },\n    {\n      name: 'Vegetables',\n    },\n    {\n      name: 'Fruits'\n    },\n    {\n      name: 'Hotpot'\n    },\n    {\n      name: 'Snacks'\n    },\n    {\n      name: 'Sauces'\n    }, \n    {\n      name: 'Beverages'\n    },\n    {\n      name: 'Noodles/Soup'\n    },\n    {\n      name: 'Sale'\n    },\n    {\n      name: 'Newest Products'\n    },   \n    ]\n\n    return categories;\n  }\n\n  saveCart(data) {\n    localStorage.removeItem('user_cart');\n    return localStorage.setItem('user_cart', JSON.stringify(data));\n  }\n\n  saveGuestCart(data) {\n    localStorage.removeItem('guest_cart');\n    return localStorage.setItem('guest_cart', JSON.stringify(data))\n  }\n\n  setCartQuantity(quantity) {\n    return localStorage.setItem('user_cart_quantity', quantity);\n  }\n\n  getGuestCartQuantity() {\n    const length = localStorage.getItem('guest_cart_quantity')\n    const total = length;\n    return total;\n  }\n\n  getUserCartQuantity() {\n    const length = localStorage.getItem('user_cart_quantity')\n    const total = length;\n    return total;\n  }\n\n  getOrders() {\n\n  }\n\n  getUser() {\n\n  }\n\n  getCartTotal(data) {\n    const total = data;\n    return total;\n  }\n\n  setProductArr() {\n\n  }\n\n  getProductArr() {\n\n  }\n\n  setSearchProduct(product) {\n    return localStorage.setItem('product_search', product)\n  }\n\n  getSearchProduct() {\n    return localStorage.getItem('product_search');\n  }\n\n  setSingleProduct(product_id) {\n    return localStorage.setItem('id_product', product_id)\n  }\n\n  getSingleProduct() {\n    return localStorage.getItem('id_product');\n  }\n\n  viewSingleProduct() {\n    const productId = localStorage.getItem('id_product');\n\n    window.location.href = `/product/${productId}`;\n  }\n\n  updateSingleProduct() {\n    const product_id = this.getSingleProductId();\n    window.location.href = `/productupdate/${product_id}`;\n  }\n\n  setAdminSingleProductId(id) {\n    return localStorage.setItem('id_admin_product', id)\n  }\n\n  getSingleProductId() {\n    return localStorage.getItem('id_admin_product')\n  }\n\n  setSingleOrder(order_id) {\n    return localStorage.setItem('id_order', order_id);\n  }\n\n  getSingleOrder() {\n    return localStorage.getItem('id_order')\n  }\n\n  viewSingleOrder() {\n    const orderId = this.getSingleOrder();\n\n    window.location.href = `/order/${orderId}`;\n  }\n\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  getProduct() {\n    return localStorage.getItem('product');\n  }\n\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token);\n  }\n\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else \n      return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  setProduct(productType) {\n    localStorage.setItem('product', productType);\n  }\n\n  lightMode(mode) {\n    localStorage.setItem('mode', mode)\n  }\n\n  getMode(mode) {\n    var body = document.querySelectorAll('body, .page');\n    var bgWhite = document.querySelectorAll('.night-bg');\n    const currentMode = localStorage.getItem('mode', mode);\n\n    body[0].style.backgroundColor = 'var(--tertiary)';\n    body[0].style.color = 'white';\n\n    for (var i = 0; i < bgWhite.length; i++) {\n        bgWhite[i].style.backgroundColor = 'rgb(74,74,74)';\n    }\n\n    if (currentMode === 'night') {\n\n        body[0].style.backgroundColor = 'var(--tertiary)';\n        body[0].style.color = 'white';\n\n        for (var q = 0; q < bgWhite.length; q++) {\n            bgWhite[q].style.backgroundColor = 'rgb(74,74,74)';\n        }\n    } else {\n        \n        body[0].style.backgroundColor = 'white';\n        body[0].style.color = 'black';\n\n        for (var u = 0; u < bgWhite.length; u++) {\n            bgWhite[u].style.backgroundColor = 'white';\n        }\n    }\n    return currentMode;\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  setGlobalDiscount(sale) {\n    return localStorage.setItem('global_sale', sale)\n  }\n\n  getGlobalDiscount() {\n    const sale = localStorage.getItem('global_sale');\n    return sale;\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n\n    if (this.loggedIn() === false) {\n      window.location.assign('/');\n    } else if (this.getProfileType() === 'user') {\n      window.location.assign('/');\n    } else if (this.getProfileType() === 'admin') {\n        window.location.assign('/');\n    }\n  }\n\n  checkToken() {\n    const token = this.getToken();\n    if (localStorage.getItem('id_token')) {\n      if (this.isTokenExpired(token)) {\n        localStorage.removeItem('id_token')\n      } else {\n        return\n      }\n      \n    }\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n\n    window.alert('Logged Out')\n  }\n}\n\nexport default new AuthService();\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/Users/nc/Desktop/projects/nuxe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nc/Desktop/projects/nuxe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import decode from'jwt-decode';var AuthService=/*#__PURE__*/function(){function AuthService(){_classCallCheck(this,AuthService);}_createClass(AuthService,[{key:\"getProfileType\",value:function getProfileType(){if(this.loggedIn()){var _decode=decode(this.getToken()),data=_decode.data;return data.admin===true?'admin':'user';}}},{key:\"getAdmin\",value:function getAdmin(){if(this.loggedIn()){var _decode2=decode(this.getToken()),data=_decode2.data;return data.admin?true:false;}}},{key:\"adminSetCategory\",value:function adminSetCategory(item){return localStorage.setItem('adminCategory',item);}},{key:\"adminGetCategory\",value:function adminGetCategory(){return localStorage.getItem('adminCategory');}},{key:\"getPromotions\",value:function getPromotions(){}},{key:\"setCategory\",value:function setCategory(category){localStorage.setItem('current_category',JSON.stringify(category));return window.location.href=\"/products\";}},{key:\"getCategory\",value:function getCategory(){var category=localStorage.getItem('current_category');return JSON.parse(category);}},{key:\"getCategories\",value:function getCategories(){var categories=[{name:'All'},{name:'Fish'},{name:'Scallops'},{name:'Shellfish'},{name:'Squid'},{name:'Meat'},{name:'Special'},{name:'Vegetables'},{name:'Fruits'},{name:'Hotpot'},{name:'Snacks'},{name:'Sauces'},{name:'Beverages'},{name:'Noodles/Soup'},{name:'Sale'},{name:'Newest Products'}];return categories;}},{key:\"saveCart\",value:function saveCart(data){localStorage.removeItem('user_cart');return localStorage.setItem('user_cart',JSON.stringify(data));}},{key:\"saveGuestCart\",value:function saveGuestCart(data){localStorage.removeItem('guest_cart');return localStorage.setItem('guest_cart',JSON.stringify(data));}},{key:\"setCartQuantity\",value:function setCartQuantity(quantity){return localStorage.setItem('user_cart_quantity',quantity);}},{key:\"getGuestCartQuantity\",value:function getGuestCartQuantity(){var length=localStorage.getItem('guest_cart_quantity');var total=length;return total;}},{key:\"getUserCartQuantity\",value:function getUserCartQuantity(){var length=localStorage.getItem('user_cart_quantity');var total=length;return total;}},{key:\"getOrders\",value:function getOrders(){}},{key:\"getUser\",value:function getUser(){}},{key:\"getCartTotal\",value:function getCartTotal(data){var total=data;return total;}},{key:\"setProductArr\",value:function setProductArr(){}},{key:\"getProductArr\",value:function getProductArr(){}},{key:\"setSearchProduct\",value:function setSearchProduct(product){return localStorage.setItem('product_search',product);}},{key:\"getSearchProduct\",value:function getSearchProduct(){return localStorage.getItem('product_search');}},{key:\"setSingleProduct\",value:function setSingleProduct(product_id){return localStorage.setItem('id_product',product_id);}},{key:\"getSingleProduct\",value:function getSingleProduct(){return localStorage.getItem('id_product');}},{key:\"viewSingleProduct\",value:function viewSingleProduct(){var productId=localStorage.getItem('id_product');window.location.href=\"/product/\".concat(productId);}},{key:\"updateSingleProduct\",value:function updateSingleProduct(){var product_id=this.getSingleProductId();window.location.href=\"/productupdate/\".concat(product_id);}},{key:\"setAdminSingleProductId\",value:function setAdminSingleProductId(id){return localStorage.setItem('id_admin_product',id);}},{key:\"getSingleProductId\",value:function getSingleProductId(){return localStorage.getItem('id_admin_product');}},{key:\"setSingleOrder\",value:function setSingleOrder(order_id){return localStorage.setItem('id_order',order_id);}},{key:\"getSingleOrder\",value:function getSingleOrder(){return localStorage.getItem('id_order');}},{key:\"viewSingleOrder\",value:function viewSingleOrder(){var orderId=this.getSingleOrder();window.location.href=\"/order/\".concat(orderId);}},{key:\"getProfile\",value:function getProfile(){return decode(this.getToken());}},{key:\"getProduct\",value:function getProduct(){return localStorage.getItem('product');}},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return!!token&&!this.isTokenExpired(token);}},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=decode(token);if(decoded.exp<Date.now()/1000){return true;}else return false;}catch(err){return false;}}},{key:\"setProduct\",value:function setProduct(productType){localStorage.setItem('product',productType);}},{key:\"lightMode\",value:function lightMode(mode){localStorage.setItem('mode',mode);}},{key:\"getMode\",value:function getMode(mode){var body=document.querySelectorAll('body, .page');var bgWhite=document.querySelectorAll('.night-bg');var currentMode=localStorage.getItem('mode',mode);body[0].style.backgroundColor='var(--tertiary)';body[0].style.color='white';for(var i=0;i<bgWhite.length;i++){bgWhite[i].style.backgroundColor='rgb(74,74,74)';}if(currentMode==='night'){body[0].style.backgroundColor='var(--tertiary)';body[0].style.color='white';for(var q=0;q<bgWhite.length;q++){bgWhite[q].style.backgroundColor='rgb(74,74,74)';}}else{body[0].style.backgroundColor='white';body[0].style.color='black';for(var u=0;u<bgWhite.length;u++){bgWhite[u].style.backgroundColor='white';}}return currentMode;}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}},{key:\"setGlobalDiscount\",value:function setGlobalDiscount(sale){return localStorage.setItem('global_sale',sale);}},{key:\"getGlobalDiscount\",value:function getGlobalDiscount(){var sale=localStorage.getItem('global_sale');return sale;}},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);if(this.loggedIn()===false){window.location.assign('/');}else if(this.getProfileType()==='user'){window.location.assign('/');}else if(this.getProfileType()==='admin'){window.location.assign('/');}}},{key:\"checkToken\",value:function checkToken(){var token=this.getToken();if(localStorage.getItem('id_token')){if(this.isTokenExpired(token)){localStorage.removeItem('id_token');}else{return;}}}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.assign('/');window.alert('Logged Out');}}]);return AuthService;}();export default new AuthService();","map":{"version":3,"sources":["/Users/nc/Desktop/projects/nuxe/client/src/utils/auth.js"],"names":["decode","AuthService","loggedIn","getToken","data","admin","item","localStorage","setItem","getItem","category","JSON","stringify","window","location","href","parse","categories","name","removeItem","quantity","length","total","product","product_id","productId","getSingleProductId","id","order_id","orderId","getSingleOrder","token","isTokenExpired","decoded","exp","Date","now","err","productType","mode","body","document","querySelectorAll","bgWhite","currentMode","style","backgroundColor","color","i","q","u","sale","idToken","assign","getProfileType","alert"],"mappings":"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","sourcesContent":["import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfileType() {\n    if (this.loggedIn()) {\n        const { data } = decode(this.getToken());\n        return data.admin === true ? 'admin' : 'user'\n    } \n  }\n\n  getAdmin() {\n    if (this.loggedIn()) {\n      const { data } = decode(this.getToken());\n      return data.admin ? true : false\n    }\n  }\n\n  adminSetCategory(item) {\n    return localStorage.setItem('adminCategory', item);\n  }\n\n  adminGetCategory() {\n    return localStorage.getItem('adminCategory');\n  }\n\n  getPromotions() {\n\n  }\n\n  setCategory(category) {\n    localStorage.setItem('current_category', JSON.stringify(category))\n    return window.location.href = \"/products\";\n  }\n\n  getCategory() {\n    const category = localStorage.getItem('current_category');\n    return JSON.parse(category);\n  }\n\n  getCategories() {\n    const categories = [\n\t\t{\n\t\t\tname: 'All',\n\t\t},\n\t\t{\n\t\t\tname: 'Fish',\n\t\t},\n    {\n      name: 'Scallops',\n    },\n\t\t{\n\t\t\tname: 'Shellfish',\n\t\t},\n\t\t{\n\t\t\tname: 'Squid',\n\t\t},\n    {\n      name: 'Meat'\n    },\n    {\n      name: 'Special'\n    },\n    {\n      name: 'Vegetables',\n    },\n    {\n      name: 'Fruits'\n    },\n    {\n      name: 'Hotpot'\n    },\n    {\n      name: 'Snacks'\n    },\n    {\n      name: 'Sauces'\n    }, \n    {\n      name: 'Beverages'\n    },\n    {\n      name: 'Noodles/Soup'\n    },\n    {\n      name: 'Sale'\n    },\n    {\n      name: 'Newest Products'\n    },   \n    ]\n\n    return categories;\n  }\n\n  saveCart(data) {\n    localStorage.removeItem('user_cart');\n    return localStorage.setItem('user_cart', JSON.stringify(data));\n  }\n\n  saveGuestCart(data) {\n    localStorage.removeItem('guest_cart');\n    return localStorage.setItem('guest_cart', JSON.stringify(data))\n  }\n\n  setCartQuantity(quantity) {\n    return localStorage.setItem('user_cart_quantity', quantity);\n  }\n\n  getGuestCartQuantity() {\n    const length = localStorage.getItem('guest_cart_quantity')\n    const total = length;\n    return total;\n  }\n\n  getUserCartQuantity() {\n    const length = localStorage.getItem('user_cart_quantity')\n    const total = length;\n    return total;\n  }\n\n  getOrders() {\n\n  }\n\n  getUser() {\n\n  }\n\n  getCartTotal(data) {\n    const total = data;\n    return total;\n  }\n\n  setProductArr() {\n\n  }\n\n  getProductArr() {\n\n  }\n\n  setSearchProduct(product) {\n    return localStorage.setItem('product_search', product)\n  }\n\n  getSearchProduct() {\n    return localStorage.getItem('product_search');\n  }\n\n  setSingleProduct(product_id) {\n    return localStorage.setItem('id_product', product_id)\n  }\n\n  getSingleProduct() {\n    return localStorage.getItem('id_product');\n  }\n\n  viewSingleProduct() {\n    const productId = localStorage.getItem('id_product');\n\n    window.location.href = `/product/${productId}`;\n  }\n\n  updateSingleProduct() {\n    const product_id = this.getSingleProductId();\n    window.location.href = `/productupdate/${product_id}`;\n  }\n\n  setAdminSingleProductId(id) {\n    return localStorage.setItem('id_admin_product', id)\n  }\n\n  getSingleProductId() {\n    return localStorage.getItem('id_admin_product')\n  }\n\n  setSingleOrder(order_id) {\n    return localStorage.setItem('id_order', order_id);\n  }\n\n  getSingleOrder() {\n    return localStorage.getItem('id_order')\n  }\n\n  viewSingleOrder() {\n    const orderId = this.getSingleOrder();\n\n    window.location.href = `/order/${orderId}`;\n  }\n\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  getProduct() {\n    return localStorage.getItem('product');\n  }\n\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token);\n  }\n\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else \n      return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  setProduct(productType) {\n    localStorage.setItem('product', productType);\n  }\n\n  lightMode(mode) {\n    localStorage.setItem('mode', mode)\n  }\n\n  getMode(mode) {\n    var body = document.querySelectorAll('body, .page');\n    var bgWhite = document.querySelectorAll('.night-bg');\n    const currentMode = localStorage.getItem('mode', mode);\n\n    body[0].style.backgroundColor = 'var(--tertiary)';\n    body[0].style.color = 'white';\n\n    for (var i = 0; i < bgWhite.length; i++) {\n        bgWhite[i].style.backgroundColor = 'rgb(74,74,74)';\n    }\n\n    if (currentMode === 'night') {\n\n        body[0].style.backgroundColor = 'var(--tertiary)';\n        body[0].style.color = 'white';\n\n        for (var q = 0; q < bgWhite.length; q++) {\n            bgWhite[q].style.backgroundColor = 'rgb(74,74,74)';\n        }\n    } else {\n        \n        body[0].style.backgroundColor = 'white';\n        body[0].style.color = 'black';\n\n        for (var u = 0; u < bgWhite.length; u++) {\n            bgWhite[u].style.backgroundColor = 'white';\n        }\n    }\n    return currentMode;\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  setGlobalDiscount(sale) {\n    return localStorage.setItem('global_sale', sale)\n  }\n\n  getGlobalDiscount() {\n    const sale = localStorage.getItem('global_sale');\n    return sale;\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n\n    if (this.loggedIn() === false) {\n      window.location.assign('/');\n    } else if (this.getProfileType() === 'user') {\n      window.location.assign('/');\n    } else if (this.getProfileType() === 'admin') {\n        window.location.assign('/');\n    }\n  }\n\n  checkToken() {\n    const token = this.getToken();\n    if (localStorage.getItem('id_token')) {\n      if (this.isTokenExpired(token)) {\n        localStorage.removeItem('id_token')\n      } else {\n        return\n      }\n      \n    }\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n\n    window.alert('Logged Out')\n  }\n}\n\nexport default new AuthService();\n"]},"metadata":{},"sourceType":"module"}